<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<<<<<<< HEAD
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
=======
    <title>Home Page</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
>>>>>>> a2bc7e090cfcbca5a41ad1070590f0cad7ef2d23
    <link rel="stylesheet" type="text/css" th:href="@{/css/homePage.css}">
    <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@300&family=Righteous&display=swap" rel="stylesheet">

    <script src='https://api.mapbox.com/mapbox-gl-js/v2.9.2/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.9.2/mapbox-gl.css' rel='stylesheet' />

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBvkLTs_JIK818BW-_QWPtOTUFjOPJj1L8&libraries=places">
    </script>
<!--    <script type="text/javascript" th:src="@{/js/clientid.js}"></script>-->
<!--    <script type="text/javascript" th:src="@{/js/homepage.js}"></script>-->
    <title>Home</title>
</head>
<body>
<div class="d-flex row">
<div class="container col-6">
    <label class="mapLabel d-flex justify-content-center">Search map by drapping the dropped Pin</label>
    <div id='map' class="d-flex justify-content-center" style='width: 400px; height: 300px;'></div>
    <label class="searchParams">Enter a location(City,State,Stadium,Theatre,etc.)Or keywords(Performers, Teams, etc.)</label>
    <input type="text" id="search" class="inputBoxes" placeholder="Search">
    <label class="searchParams">Choose type of Event</label>

    <select class="dropdown" id="type">
        <option value="">All</option>
        <option value="Concert">Concert</option>
        <option value="mls">MLS</option>
        <option value="Sports">Sports</option>
        <option value="Comedy">Comedy</option>
        <option value="theater">Theater</option>
        <option value="family">Family</option>
        <option value="broadway_tickets_national">Boadway</option>
        <option value="dance_performance_tour">Dance Preformance</option>
        <option value="music_festival">Music Festival</option>
        <option value="minor_league_baseball">Minor League Baseball</option>
        <option value="soccer">Soccer</option>
        <option value="football">Football</option>
    </select>
    <label class="searchParams">Enter a radius for the search</label>
    <input type="number" id="radius" class="inputBoxes" placeholder="Radius in miles">

    <button class="btn" id="search-btn">Search</button>
    </form>

    <label class="searchParams">Sort By Popularity</label>
    <button class="btn"id="upvote">⬆</button>
    <button class="btn"id="downvote">⬇</button>

    <p class="total" id="total"></p>
    <p class="pages" id="pages"></p>
    <div class="eventsContainer container">
        <h1 class="eventTitle" id="eventTitle">
            <h2 class="eventDate" id="eventDate"></h2>
            <h2 class="popularity" id="popularity"></h2>
        </h1>
        <script>
            function eventsDict() {
                this.id;
                this.eventId;
            }

            let eventsDict = new eventsDict();
            for (var i = 0; i<events.length; i++) {
            var html = `<p>${events[i]}</p>`

        }
            document.getElementById("eventTitle").innerHTML = html</script>
        <form th:action="@{'/party-form/'}" method="POST" th:object="${user}">

            <div className="form-group">
                <label htmlFor="event_id">First Name:</label>
                <input id="event_id" className="form-control text-center" th:field="*{event_id}"/>
            </div>
        </form>

        </div>
    </div>
</div>

<div class="container col-6">
    <div th:replace ="partials/parties :: parties">
<!--    <h1>Hey!  Check out all these cool parties!  Pick one!</h1>-->
<!--    <div class="card text-center mb-3" th:each="party : ${parties}">-->
<!--        <div class="card-header">Party</div>-->
<!--        <div class="card-body">-->
<!--            <h5 class="card-title" th:text="${party.party_name}"></h5>-->
<!--            <p class="card-text" th:text="${party.description}"></p>-->
<!--            <a th:href="@{|/party/${party.id}|}" class="btn btn-primary">View Party Details</a>-->
<!--        </div>-->
<!--        <div class="card-footer text-muted">-->
<!--            2 days ago-->
<!--        </div>-->
<!--    </div>-->

</div>
</div>
</div>
</body>

<script type="text/javascript" th:src="@{/js/clientid.js}"></script>
<script type="text/javascript" th:src="@{/js/homepage.js}"></script>

<!--<script>-->



<!--    function getLocation() {-->
<!--        if (navigator.geolocation) {-->
<!--            navigator.geolocation.getCurrentPosition(showPosition);-->
<!--        } else {-->
<!--            console.log("Geolocation is not supported by this browser.");-->
<!--        }-->
<!--    }-->

<!--    function showPosition(position) {-->

<!--        var lat = position.coords.latitude;-->
<!--        var long = position.coords.longitude;-->

<!--        mapboxgl.accessToken = 'pk.eyJ1Ijoia2VhdG9uaHV0dG8iLCJhIjoiY2wycWw3cWRnMDFwOTNqcGFwbDhqZTh6aCJ9.JA4KRbfaB02VWnaD8Ecs7g';-->
<!--        const coordinates = document.getElementById('coordinates');-->
<!--        const map = new mapboxgl.Map({-->
<!--            container: 'map',-->
<!--            style: 'mapbox://styles/mapbox/streets-v11',-->
<!--            center: [long, lat],-->
<!--            zoom: 8-->
<!--        });-->

<!--        const marker = new mapboxgl.Marker({-->
<!--            draggable: true-->
<!--        })-->
<!--            .setLngLat([long, lat])-->
<!--            .addTo(map);-->

<!--        function onDragEnd() {-->
<!--            const lngLat = marker.getLngLat();-->
<!--            let lat = lngLat.lat;-->
<!--            let lng = lngLat.lng;-->
<!--            let type = document.getElementById('type').value;-->
<!--            let pages = document.getElementById('pages');-->
<!--            downvote.addEventListener('click', function() {-->
<!--                fetch(`https://api.seatgeek.com/2/events?lat=${lat}&lon=${lng}&type=${type}&client_id=${clientId}`)-->
<!--                    .then(response => response.json())-->
<!--                    .then(data => {-->

<!--                        var events ='';-->
<!--                        total = document.getElementById('total');-->
<!--                        total.innerHTML = `<h1>Total Events ${data.meta.total}</h1>`-->
<!--                        for(var i = 0; i < data.events.length; i++) {-->
<!--                            const date = new Date(data.events[i].datetime_local);-->
<!--                            const [year, month, day] = [date.getFullYear(), date.getMonth() + 1, date.getDate()];-->
<!--                            const dateString = 'm/d/year'+" "+`${month}/${day}/${year}`;-->
<!--                            events += `<h1 class='loopEvent'>${data.events[i].title}`+" "+`${data.events[i].venue.name}`+" "+`${data.events[i].venue.display_location}`+" Date: "+dateString+" Popularity "+ `${data.events[i].popularity}`+`<a href="#">Click</a></h1>`-->
<!--                        }-->
<!--                        for(var i = 0; i < 1; i++) {-->
<!--                            if(data.meta.total>=11){-->
<!--                                pages = document.getElementById('pages');-->
<!--                                let pagesCount = Math.ceil(data.meta.total/10);-->
<!--                                console.log(pagesCount);-->
<!--                                for(let i = 0; i < pagesCount; i++){-->
<!--                                    pages.innerHTML += `<a href="#" onclick="page(${i})">`+" "+`${i+1}</a>`-->
<!--                                }-->
<!--                            }-->
<!--                            document.getElementById("eventTitle").innerHTML = events-->
<!--                        }})-->
<!--                    .catch(error => console.log(error));-->
<!--            });-->
<!--            upvote.addEventListener('click', function() {-->
<!--                fetch(`https://api.seatgeek.com/2/events?lat=${lat}&lon=${lng}&type=${type}&client_id=${clientId}`)-->
<!--                    .then(response => response.json())-->
<!--                    .then(data => {-->

<!--                        var events ='';-->
<!--                        total = document.getElementById('total');-->
<!--                        total.innerHTML = `<h1>Total Events ${data.meta.total}</h1>`-->
<!--                        for(var i = 0; i < data.events.length; i++) {-->
<!--                            const date = new Date(data.events[i].datetime_local);-->
<!--                            const [year, month, day] = [date.getFullYear(), date.getMonth() + 1, date.getDate()];-->
<!--                            const dateString = 'm/d/year'+" "+`${month}/${day}/${year}`;-->
<!--                            events += `<h1 class='loopEvent'>${data.events[i].title}`+" "+`${data.events[i].venue.name}`+" "+`${data.events[i].venue.display_location}`+" Date: "+dateString+" Popularity "+ `${data.events[i].popularity}`+`<a href="#">Click</a></h1>`-->

<!--                        }-->
<!--                        for(var i = 0; i < 1; i++) {-->
<!--                            if(data.meta.total>=11){-->
<!--                                pages = document.getElementById('pages');-->
<!--                                let pagesCount = Math.ceil(data.meta.total/10);-->
<!--                                console.log(pagesCount);-->
<!--                                for(let i = 0; i < pagesCount; i++){-->
<!--                                    pages.innerHTML += `<a href="#" onclick="page(${i})">`+" "+`${i+1}</a>`-->
<!--                                }-->
<!--                            }-->
<!--                            document.getElementById("eventTitle").innerHTML = events-->
<!--                        }})-->
<!--                    .catch(error => console.log(error));-->
<!--            });-->
<!--            fetch(`https://api.seatgeek.com/2/events?lat=${lat}&lon=${lng}&type=${type}&client_id=${clientId}`)-->
<!--                .then(response => response.json())-->
<!--                .then(data => {-->

<!--                    var events ='';-->
<!--                    var popularity = '';-->
<!--                    total = document.getElementById('total');-->
<!--                    total.innerHTML = `<h1>Total Events ${data.meta.total}</h1>`-->
<!--                    for(var i = 0; i < data.events.length; i++) {-->
<!--                        const date = new Date(data.events[i].datetime_local);-->
<!--                        const [year, month, day] = [date.getFullYear(), date.getMonth() + 1, date.getDate()];-->
<!--                        const dateString = 'm/d/year'+" "+`${month}/${day}/${year}`;-->
<!--                        events += `<h1 class='loopEvent'>${data.events[i].title}`+" "+`${data.events[i].venue.name}`+" "+`${data.events[i].venue.display_location}`+" Date: "+dateString+" Popularity "+ `${data.events[i].popularity}`+`<a href="#">Click</a></h1>`-->

<!--                    }-->
<!--                    for(var i = 0; i < 1; i++) {-->
<!--                        if(data.meta.total>=11){-->
<!--                            pages = document.getElementById('pages');-->
<!--                            let pagesCount = Math.ceil(data.meta.total/10);-->
<!--                            console.log(pagesCount);-->
<!--                            for(let i = 0; i < pagesCount; i++){-->
<!--                                pages.innerHTML += `<a href="#" onclick="page(${i})">`+" "+`${i+1}</a>`-->
<!--                            }-->
<!--                        }-->
<!--                        document.getElementById("eventTitle").innerHTML = events-->

<!--                    }}-->

<!--                )-->
<!--                .catch(error => console.log(error));-->
<!--        }-->
<!--        const upvote = document.getElementById('upvote');-->
<!--        const downvote = document.getElementById('downvote');-->

<!--        upvote.addEventListener('click', function() {-->


<!--            fetch(`https://api.seatgeek.com/2/events?lat=${lat}&lon=${long}&client_id=${clientId}`)-->
<!--                .then(response => response.json())-->
<!--                .then(data => {-->

<!--                    var events ='';-->
<!--                    total = document.getElementById('total');-->
<!--                    total.innerHTML = `<h1>Total Events ${data.meta.total}</h1>`-->
<!--                    for(var i = 0; i < data.events.length; i++) {-->
<!--                        const date = new Date(data.events[i].datetime_local);-->
<!--                        const [year, month, day] = [date.getFullYear(), date.getMonth() + 1, date.getDate()];-->
<!--                        const dateString = 'm/d/year'+" "+`${month}/${day}/${year}`;-->
<!--                        events += `<h1 class='loopEvent'>${data.events[i].title}`+" "+`${data.events[i].venue.name}`+" "+`${data.events[i].venue.display_location}`+" Date: "+dateString+" Popularity "+ `${data.events[i].popularity}`+`<a href="#">Click</a></h1>`-->

<!--                    }-->
<!--                    for(var i = 0; i < 1; i++) {-->
<!--                        if(data.meta.total>=11){-->
<!--                            pages = document.getElementById('pages');-->
<!--                            let pagesCount = Math.ceil(data.meta.total/10);-->
<!--                            console.log(pagesCount);-->
<!--                            for(let i = 0; i < pagesCount; i++){-->
<!--                                pages.innerHTML += `<a href="#" onclick="page(${i})">`+" "+`${i+1}</a>`-->
<!--                            }-->
<!--                        }-->
<!--                        document.getElementById("eventTitle").innerHTML = events-->
<!--                    }})-->
<!--                .catch(error => console.log(error));-->
<!--        });-->
<!--        downvote.addEventListener('click', function() {-->
<!--            fetch(`https://api.seatgeek.com/2/events?lat=${lat}&lon=${long}&client_id=${clientId}`)-->
<!--                .then(response => response.json())-->
<!--                .then(data => {-->

<!--                    var events ='';-->
<!--                    total = document.getElementById('total');-->
<!--                    total.innerHTML = `<h1>Total Events ${data.meta.total}</h1>`-->
<!--                    for(var i = 0; i < data.events.length; i++) {-->
<!--                        const date = new Date(data.events[i].datetime_local);-->
<!--                        const [year, month, day] = [date.getFullYear(), date.getMonth() + 1, date.getDate()];-->
<!--                        const dateString = 'm/d/year'+" "+`${month}/${day}/${year}`;-->
<!--                        events += `<h1 class='loopEvent'>${data.events[i].title}`+" "+`${data.events[i].venue.name}`+" "+`${data.events[i].venue.display_location}`+" Date: "+dateString+" Popularity "+ `${data.events[i].popularity}`+`<a href="#">Click</a></h1>`-->

<!--                    }-->
<!--                    for(var i = 0; i < 1; i++) {-->
<!--                        if(data.meta.total>=11){-->
<!--                            pages = document.getElementById('pages');-->
<!--                            let pagesCount = Math.ceil(data.meta.total/10);-->
<!--                            console.log(pagesCount);-->
<!--                            for(let i = 0; i < pagesCount; i++){-->
<!--                                pages.innerHTML += `<a href="#" onclick="page(${i})">`+" "+`${i+1}</a>`-->
<!--                            }-->
<!--                        }-->
<!--                        document.getElementById("eventTitle").innerHTML = events-->
<!--                    }})-->
<!--                .catch(error => console.log(error));-->
<!--        });-->
<!--        marker.on('dragend', onDragEnd);-->

<!--        fetch(`https://api.seatgeek.com/2/events?lat=${lat}&lon=${long}&type=comedy&client_id=${clientId}`)-->
<!--            .then(response => response.json())-->
<!--            .then(data => {-->
<!--                    console.log(data);-->
<!--                    var events ='';-->

<!--                    total = document.getElementById('total');-->
<!--                    total.innerHTML = `<h1 class='totalEvents '>Total Events ${data.meta.total}</h1>`-->
<!--                    for(var i = 0; i < data.events.length; i++) {-->
<!--                        const date = new Date(data.events[i].datetime_local);-->
<!--                        const [year, month, day] = [date.getFullYear(), date.getMonth() + 1, date.getDate()];-->
<!--                        const dateString = 'm/d/year'+" "+`${month}/${day}/${year}`;-->
<!--                        events += `<h1 class='loopEvent'>${data.events[i].title}`+" "+`${data.events[i].venue.name}`+" "+`${data.events[i].venue.display_location}`+" Date: "+dateString+" Popularity "+ `${data.events[i].popularity}`+`<a href="#">Click</a></h1>`-->
<!--                    }-->

<!--                    for(var i = 0; i < 1; i++) {-->
<!--                        if(data.meta.total>=11){-->
<!--                            pages = document.getElementById('pages');-->
<!--                            let pagesCount = Math.ceil(data.meta.total/10);-->
<!--                            console.log(pagesCount);-->
<!--                            for(let i = 0; i < pagesCount; i++){-->
<!--                                pages.innerHTML += `<a href="#" onclick="page(${i})">`+" "+`${i+1}</a>`-->
<!--                            }-->
<!--                        }-->


<!--                    }-->
<!--                    document.getElementById("eventTitle").innerHTML = events-->

<!--                }-->

<!--            )-->
<!--            .catch(error => console.log(error));-->

<!--    }-->
<!--    getLocation();-->


<!--    document.getElementById('search-btn').addEventListener('click', function (e){-->
<!--        e.preventDefault();-->
<!--        downvote.addEventListener('click', function() {-->
<!--            fetch(`https://api.seatgeek.com/2/events?q=${search}&type=${type}&range=${range}mi&client_id=${clientId}`)-->
<!--                .then(response => response.json())-->
<!--                .then(data => {-->

<!--                    var events ='';-->
<!--                    total = document.getElementById('total');-->
<!--                    total.innerHTML = `<h1>Total Events ${data.meta.total}</h1>`-->

<!--                    for(var i = 0; i < data.events.length; i++) {-->
<!--                        const date = new Date(data.events[i].datetime_local);-->
<!--                        const [year, month, day] = [date.getFullYear(), date.getMonth() + 1, date.getDate()];-->
<!--                        const dateString = 'm/d/year'+" "+`${month}/${day}/${year}`;-->
<!--                        events += `<h1 class='loopEvent'>${data.events[i].title}`+" "+`${data.events[i].venue.name}`+" "+`${data.events[i].venue.display_location}`+" Date: "+dateString+" Popularity "+ `${data.events[i].popularity}`+`<a href="#">Click</a></h1>`-->

<!--                    }-->
<!--                    for(var i = 0; i < 1; i++) {-->
<!--                        if(data.meta.total>=11){-->
<!--                            pages = document.getElementById('pages');-->
<!--                            let pagesCount = Math.ceil(data.meta.total/10);-->
<!--                            console.log(pagesCount);-->
<!--                            for(let i = 0; i < pagesCount; i++){-->
<!--                                pages.innerHTML += `<a href="#" onclick="page(${i})">`+" "+`${i+1}</a>`-->
<!--                            }-->
<!--                        }-->
<!--                        document.getElementById("eventTitle").innerHTML = events-->
<!--                    }})-->
<!--                .catch(error => console.log(error));-->
<!--        });-->
<!--        upvote.addEventListener('click', function() {-->
<!--            fetch(`https://api.seatgeek.com/2/events?q=${search}&type=${type}&range=${range}mi&client_id=${clientId}`)-->
<!--                .then(response => response.json())-->
<!--                .then(data => {-->

<!--                    var events ='';-->
<!--                    total = document.getElementById('total');-->
<!--                    total.innerHTML = `<h1>Total Events ${data.meta.total}</h1>`-->
<!--                    for(var i = 0; i < data.events.length; i++) {-->
<!--                        const date = new Date(data.events[i].datetime_local);-->
<!--                        const [year, month, day] = [date.getFullYear(), date.getMonth() + 1, date.getDate()];-->
<!--                        const dateString = 'm/d/year'+" "+`${month}/${day}/${year}`;-->
<!--                        events += `<h1 class='loopEvent'>${data.events[i].title}`+" "+`${data.events[i].venue.name}`+" "+`${data.events[i].venue.display_location}`+" Date: "+dateString+" Popularity "+ `${data.events[i].popularity}`+`<a href="#">Click</a></h1>`-->

<!--                    }-->
<!--                    for(var i = 0; i < 1; i++) {-->
<!--                        if(data.meta.total>=11){-->
<!--                            pages = document.getElementById('pages');-->
<!--                            let pagesCount = Math.ceil(data.meta.total/10);-->
<!--                            console.log(pagesCount);-->
<!--                            for(let i = 0; i < pagesCount; i++){-->
<!--                                pages.innerHTML += `<a href="#" onclick="page(${i})">`+" "+`${i+1}</a>`-->
<!--                            }-->
<!--                        }-->
<!--                        document.getElementById("eventTitle").innerHTML = events-->
<!--                    }})-->
<!--                .catch(error => console.log(error));-->
<!--        });-->
<!--        var type = document.getElementById("type").value-->
<!--        var search = document.getElementById("search").value-->
<!--        var range = document.getElementById("radius").value-->
<!--        fetch(`https://api.seatgeek.com/2/events?q=${search}&type=${type}&range=${range}mi&client_id=${clientId}`)-->
<!--            .then(response => response.json())-->
<!--            .then(data => {-->

<!--                var events ='';-->

<!--                total = document.getElementById('total');-->
<!--                total.innerHTML = `<h1>Total Events ${data.meta.total}</h1>`-->
<!--                for(var i = 0; i < data.events.length; i++) {-->
<!--                    const date = new Date(data.events[i].datetime_local);-->
<!--                    const [year, month, day] = [date.getFullYear(), date.getMonth() + 1, date.getDate()];-->
<!--                    const dateString = 'm/d/year'+" "+`${month}/${day}/${year}`;-->
<!--                    events += `<h1 class='loopEvent'>${data.events[i].title}`+" "+`${data.events[i].venue.name}`+" "+`${data.events[i].venue.display_location}`+" Date: "+dateString+" Popularity "+ `${data.events[i].popularity}`+`<a href="#">Click</a></h1>`-->
<!--                }-->
<!--                for(var i = 0; i < 1; i++) {-->
<!--                    if(data.meta.total>=11){-->
<!--                        pages = document.getElementById('pages');-->
<!--                        let pagesCount = Math.ceil(data.meta.total/10);-->
<!--                        console.log(pagesCount);-->
<!--                        for(let i = 0; i < pagesCount; i++){-->
<!--                            pages.innerHTML += `<a href="#" onclick="page(${i})">`+" "+`${i+1}</a>`-->
<!--                        }-->
<!--                    }-->
<!--                    document.getElementById("eventTitle").innerHTML = events-->
<!--                }})-->
<!--            .catch(error => console.log(error));-->
<!--    });</script>-->
</html>